# 箱書きエディタ v0.10.0

**リリース日**: 2025年12月18日

## 主な新機能

### インテリジェントなファイル追跡システム

v0.10.0では、書き出されたファイルの管理が大幅に改善されました。シーンの順序変更、章の移動、タイトル変更など、あらゆる編集操作に対して、執筆中の本文を保持したまま自動的にファイルを管理します。

#### 新機能の詳細

1. **絶対的なシーン番号の導入**
   - 各シーンに一意の番号を付与
   - シーンを削除しても番号は欠番として保持
   - シーンの追跡が確実に

2. **章ごとの固定番号システム**
   - 各章に固有の書き出し番号を割り当て
   - シーンが章を移動しても、章のフォルダ番号は維持
   - 「01_第1章」と「02_第1章」のような重複フォルダが発生しない

3. **自動ファイル移動・リネーム**
   - **章変更時**: 旧フォルダから新フォルダへ自動移動（本文保持）
   - **タイトル変更時**: ファイル名を自動更新（本文保持）
   - **順序変更時**: ファイル番号を自動調整（並び順を反映）

4. **執筆内容の完全保護**
   - すべての操作で執筆中の本文を保持
   - ファイルの移動・リネーム時も内容を保護
   - 安心して編集・再構成が可能

## 使用例

### シーンの順序変更
```
変更前:
01_第1章/
  ├── 001_シーンA.txt
  ├── 002_シーンB.txt
  └── 003_シーンC.txt

シーンBとCを入れ替え後:
01_第1章/
  ├── 001_シーンA.txt
  ├── 002_シーンC.txt  ← 自動リネーム
  └── 003_シーンB.txt  ← 自動リネーム
```

### 章の移動
```
変更前:
01_第1章/
  ├── 001_シーンA.txt
  └── 002_シーンB.txt
02_第2章/
  └── 003_シーンC.txt

シーンBを第2章に移動後:
01_第1章/
  └── 001_シーンA.txt
02_第2章/
  ├── 002_シーンB.txt  ← 自動移動（本文保持）
  └── 003_シーンC.txt
```

## 技術的な改善

- `Scene` インターフェースに `sceneNo` フィールドを追加
- `Chapter` インターフェースに `deploymentNumber` フィールドを追加
- `DeploymentInfo` インターフェースを導入（章ID、ファイル名を記録）
- `StoryData` に `nextSceneNo` フィールドを追加
- 後方互換性を維持（旧バージョンのファイルも読み込み可能）

## ダウンロード

### macOS
- `箱書きエディタ_0.10.0_universal.dmg` をダウンロード

### Windows
- `箱書きエディタ_0.10.0_x64-setup.exe` (64bit版インストーラー)
- `箱書きエディタ_0.10.0_x64_en-US.msi` (MSIインストーラー)

### Linux
- `箱書きエディタ_0.10.0_amd64.deb` (Debian/Ubuntu)
- `箱書きエディタ_0.10.0_amd64.AppImage` (汎用)

## インストール方法

### macOS
1. DMGファイルをダウンロード
2. DMGファイルを開く
3. アプリケーションフォルダにドラッグ&ドロップ

**注意**: 初回起動時に「開発元が未確認」の警告が出る場合：
1. アプリケーションを右クリック（またはControlキー+クリック）
2. 「開く」を選択
3. 警告ダイアログで「開く」をクリック

### Windows
1. インストーラー（.exe または .msi）をダウンロード
2. ダウンロードしたファイルを実行
3. インストールウィザードの指示に従う

### Linux (Debian/Ubuntu)
```bash
sudo dpkg -i 箱書きエディタ_0.10.0_amd64.deb
```

### Linux (AppImage)
```bash
chmod +x 箱書きエディタ_0.10.0_amd64.AppImage
./箱書きエディタ_0.10.0_amd64.AppImage
```

## 既知の問題

現在、既知の問題はありません。

## ドキュメント

詳細な使い方は [README.md](https://github.com/GennosukeSatsuki/hakogaki/blob/main/README.md) をご覧ください。

---

**完全な変更履歴:** [v0.9.1...v0.10.0](https://github.com/GennosukeSatsuki/hakogaki/compare/v0.9.1...v0.10.0)
